<%- include("./headerAdmin.ejs") %>
<div class="main">
    <!-- MAIN CONTENT -->
    <div class="main-content">
        <div class="container-fluid">
            <!-- OVERVIEW -->
            <div class="panel panel-headline">
                
                
            <!-- END OVERVIEW -->
            <div class="row">
                <div class="col-md-12">
                    <!-- RECENT PURCHASES -->
                    <div class="panel">
                        <div class="panel-heading">
                            <h3 class="panel-title">News-Letters</h3>
                            
                        </div>
                      
                        <div class="panel-body ">
                           <form method="post" action='/upload/newsletter' enctype="multipart/form-data" onsubmit="return verify()">
                            <div class="row">
                            <div class="col-md-12">
                                <img src="/unnamed.png" id="output"   class="responsive" width="100%" height="400px"> 
                            </div>
                            </div>
                            <div class="form-group">
                                <label for="mobileInput">Heading</label>
                                <input type="text" onkeypress="myFunction()" placeholder="Enter heading here..." class="form-control" id="heading"  name = "title" required>  
                                <div class="invalid-feedback text-danger">
                                   Title is too short.
                                  </div>
                            </div>
                            <div class="form-group">
                                <label for="exampleFormControlFile1">Select Cover Photo</label>
                                <input type="file" id="file" accept="image/*"  onchange="loadFile(event)" class="form-control-file" required name='image'>
                              </div>
                            <div class="form-group">                          
                            <label for="mobileInput">Description</label>
                            <!-- <div id="toolbar-container"></div>
                            
                            <div id="editor"  style="height:150px;">
                                <p>Description here....</p>
                            </div> -->
                            <textarea name="description" onkeypress="myFunction()" id="description2" required  placeholder="Enter Description Here..."></textarea>
                            <script>
                                CKEDITOR.replace( 'description' );
                        </script>
                        <div class="invalid-feedback text-danger">
                           Description should be longer than 20 characters.
                          </div>

</div>

   <input type="submit" class="btn btn-primary" value="Submit" name="submit">
                               </form>

                        </div>
                        <div class="panel-footer">
                          
                        </div>
                    </div>
                    <!-- END RECENT PURCHASES -->
                </div>
                
                </div> 
            </div>
            
        
        </div>
    </div>
     <!-- END MAIN CONTENT -->
    
</div>





<%- include("./footerAdmin.ejs") %>
<script>
    var loadFile = function(event) {
      var image = document.getElementById('output');
      console.log(image)
      image.src = URL.createObjectURL(event.target.files[0]);
    };
    document.getElementsByClassName('invalid-feedback')[0].style.display = 'none';
 document.getElementsByClassName('invalid-feedback')[1].style.display = 'none'; 
function myFunction()
{
 document.getElementsByClassName('invalid-feedback')[0].style.display = 'none';
 document.getElementsByClassName('invalid-feedback')[1].style.display = 'none';
}


    function verify()
    {
       
        heading=document.getElementById('heading').value;
        description=document.getElementById('description2').value
        if(heading.length<5)
        {  document.getElementsByClassName('invalid-feedback')[0].style.display = 'block'
            return false;
        }
        if(description.length<=20)
        { 
            document.getElementsByClassName('invalid-feedback')[1].style.display = 'block'
            return false;
        }
        return true
    }
    </script>